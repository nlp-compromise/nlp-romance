(function(d){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=d();else if("function"==typeof define&&define.amd)define([],d);else{var j;j="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,j.nlpCore=d()}})(function(){return function v(w,y,z){function A(D,E){if(!y[D]){if(!w[D]){var F="function"==typeof require&&require;if(!E&&F)return F(D,!0);if(B)return B(D,!0);var G=new Error("Cannot find module '"+D+"'");throw G.code="MODULE_NOT_FOUND",G}var H=y[D]={exports:{}};w[D][0].call(H.exports,function(I){var J=w[D][1][I];return A(J?J:I)},H,H.exports,v,w,y,z)}return y[D].exports}for(var B="function"==typeof require&&require,C=0;C<z.length;C++)A(z[C]);return A}({1:[function(v,w){w.exports={author:"Spencer Kelly <spencermountain@gmail.com> (http://spencermounta.in)",name:"nlp-reomance",description:"natural-language core for multi-language nlp",version:"0.0.1",main:"./builds/nlp-romance.js",repository:{type:"git",url:"git://github.com/nlp-compromise/de-romance.git"},scripts:{test:"node ./scripts/test.js",build:"node ./scripts/build/index.js",demo:"node ./scripts/demo.js",watch:"node ./scripts/watch.js"},files:["builds/","docs/"],dependencies:{},devDependencies:{"babel-preset-es2015":"^6.24.0",babelify:"7.3.0",babili:"0.0.11",browserify:"13.0.1",chalk:"^1.1.3","codacy-coverage":"^2.0.0",derequire:"^2.0.3",efrt:"0.0.6",eslint:"^3.1.1",gaze:"^1.1.1","http-server":"0.9.0","nlp-corpus":"latest",nyc:"^8.4.0",shelljs:"^0.7.2","tap-min":"^1.1.0","tap-spec":"4.1.1",tape:"4.6.0","uglify-js":"2.7.0"},license:"MIT"}},{}],2:[function(v,w,y){"use strict";const z={},A={reset:"\x1B[0m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",black:"\x1B[30m"};"undefined"==typeof w&&Object.keys(A).forEach((B)=>{A[B]=""}),y.ensureString=(B)=>{if("string"==typeof B)return B;return"number"==typeof B?""+B:""},y.ensureObject=(B)=>{return"object"==typeof B?null===B||B instanceof Array?{}:B:{}},y.titleCase=(B)=>{return B.charAt(0).toUpperCase()+B.substr(1)},y.copy=(B)=>{let C={};return B=y.ensureObject(B),Object.keys(B).forEach((D)=>{C[D]=B[D]}),C},y.extend=(B,C)=>{B=y.copy(B);const D=Object.keys(C);for(let E=0;E<D.length;E++)B[D[E]]=C[D[E]];return B},y.green=function(B){return A.green+B+A.reset},y.red=function(B){return A.red+B+A.reset},y.blue=function(B){return A.blue+B+A.reset},y.magenta=function(B){return A.magenta+B+A.reset},y.cyan=function(B){return A.cyan+B+A.reset},y.yellow=function(B){return A.yellow+B+A.reset},y.black=function(B){return A.black+B+A.reset},y.printTag=function(B){if(z[B]){const C=z[B].color||"black";return y[C](B)}return B},y.printTerm=function(B){const C=Object.keys(B.tags);for(let D=0;D<C.length;D++)if(z[C[D]]){const E=z[C[D]].color||"black";return y[E](B.out("text"))}return A.reset+B.plaintext+A.reset},y.leftPad=function(B,C,D){for(D=D||" ",B=B.toString();B.length<C;)B+=D;return B},y.isArray=function(B){return"[object Array]"===Object.prototype.toString.call(B)}},{}],3:[function(v,w){"use strict";const z=v("./result/build"),A=v("../package.json"),B=v("./log"),C=function(D,E){let F=z(D,E);return F.tagger(),F};C.tokenize=function(D){return z(D)},C.version=A.version,C.verbose=function(D){B.enable(D)},"undefined"!=typeof self&&(self.core=C),w.exports=C},{"../package.json":1,"./log":5,"./result/build":7}],4:[function(v,w){"use strict";const z=v("../fns");w.exports={tag:(C,D,E)=>{let F=C.normal||"["+C.silent_term+"]";F=z.leftPad("'"+F+"'",12),F+="  ->   "+D,F+=z.leftPad(E||"",15),console.log("%c"+F," color: #a2c99c")},untag:(C,D,E)=>{let F=C.normal||"["+C.silent_term+"]";F=z.leftPad("'"+F+"'",12),F+="  ~*   "+D,F+="    "+(E||""),console.log("%c"+F," color: #b66a6a")}}},{"../fns":2}],5:[function(v,w){"use strict";const z=v("./client"),A=v("./server");let B=!1;w.exports={enable:(C)=>{C===void 0&&(C=!0),B=C},tag:(C,D,E)=>{(!0===B||"tagger"===B)&&("undefined"==typeof window?A.tag(C,D,E):z.tag(C,D,E))},unTag:(C,D,E)=>{(!0===B||"tagger"===B)&&("undefined"==typeof window?A.untag(C,D,E):z.untag(C,D,E))}}},{"./client":4,"./server":6}],6:[function(v,w){"use strict";const z=v("../fns");w.exports={tag:(C,D,E)=>{let F=C.normal||"["+C.silent_term+"]";F=z.yellow(F),F=z.leftPad("'"+F+"'",20),F+="  ->   "+z.printTag(D),F=z.leftPad(F,54),console.log("       "+F+"("+z.cyan(E||"")+")")},untag:function(C,D,E){let F="-"+C.normal+"-";F=z.red(F),F=z.leftPad(F,20),F+="  ~*   "+z.red(D),F=z.leftPad(F,54),console.log("       "+F+"("+z.red(E||"")+")")}}},{"../fns":2}],7:[function(v,w){"use strict";const z=v("./index"),A=v("./lib/tokenize"),B=v("./paths"),C=B.Terms,D=B.fns,E=v("../term/methods/normalize").normalize,F=function(H){return H=H||{},Object.keys(H).reduce((I,J)=>{I[J]=H[J];let K=E(J);return K=K.replace(/\s+/," "),K=K.replace(/[.\?\!]/g,""),J!==K&&(I[K]=H[J]),I},{})};w.exports=(H,I)=>{let J=[];D.isArray(H)?J=H:(H=D.ensureString(H),J=A(H)),I=F(I);let K=J.map((M)=>C.fromString(M,I)),L=new z(K,I);return L.list.forEach((M)=>{M.refText=L}),L}},{"../term/methods/normalize":22,"./index":9,"./lib/tokenize":11,"./paths":18}],8:[function(v,w){w.exports={found:function(){return 0<this.list.length},parent:function(){return this.reference||this},length:function(){return this.list.length},isA:function(){return"Text"},whitespace:function(){return{before:(z)=>{return this.list.forEach((A)=>{A.whitespace.before(z)}),this},after:(z)=>{return this.list.forEach((A)=>{A.whitespace.after(z)}),this}}}}},{}],9:[function(v,w){"use strict";function z(B,C,D){this.list=B||[],this.lexicon=C,this.reference=D;let E=Object.keys(A);for(let F=0;F<E.length;F++)Object.defineProperty(this,E[F],{get:A[E[F]]})}const A=v("./getters");v("./methods/loops")(z),v("./methods/out")(z),v("./methods/misc")(z),w.exports=z},{"./getters":8,"./methods/loops":12,"./methods/misc":13,"./methods/out":14}],10:[function(v,w){"use strict";let z={Noun:["arc","al","exp","fy","pd","pl","plz","tce","bl","ma","ba","lit","ex","eg","ie","ca","cca","vs","etc","esp","ft","bc","ad","md","corp","col"],Organization:["dept","univ","assn","bros","inc","ltd","co","yahoo","joomla","jeopardy"],Place:["Str","rd","st","dist","mt","ave","blvd","cl","ct","cres","hwy","ariz","cal","calif","colo","conn","fla","fl","ga","ida","ia","kan","kans","minn","neb","nebr","okla","penna","penn","pa","dak","tenn","tex","ut","vt","va","wis","wisc","wy","wyo","usafa","alta","ont","que","sask"],Date:["jan","feb","mar","apr","jun","jul","aug","sep","sept","oct","nov","dec","circa"],Honorific:["adj","adm","adv","asst","atty","bldg","brig","capt","cmdr","comdr","cpl","det","dr","esq","gen","gov","hon","jr","llb","lt","maj","messrs","mister","mlle","mme","mr","mrs","ms","mstr","op","ord","phd","prof","pvt","rep","reps","res","rev","sen","sens","sfc","sgt","sir","sr","supt","surg"]},A={};const B=Object.keys(z);for(let C=0;C<B.length;C++){const D=z[B[C]];for(let E=0;E<D.length;E++)A[D[E]]=B[C]}w.exports=A},{}],11:[function(v,w){"use strict";const z=Object.keys(v("./abbreviations")),A=new RegExp("\\b("+z.join("|")+")[.!?] ?$","i"),B=/[ |.][A-Z].?( *)?$/i,C=/\.\.+( +)?$/,D=function(F){let G=[],H=F.split(/(\n+)/);for(let J,I=0;I<H.length;I++){J=H[I].split(/(\S.+?[.!?])(?=\s+|$)/g);for(let K=0;K<J.length;K++)G.push(J[K])}return G};w.exports=function(F){F=F||"",F=""+F;let G=[],H=[];if(!F||"string"!=typeof F||!1===/\S/.test(F))return G;let I=D(F);for(let K,J=0;J<I.length;J++)if(K=I[J],void 0!==K&&""!==K){if(!1===/\S/.test(K))if(H[H.length-1]){H[H.length-1]+=K;continue}else if(I[J+1]){I[J+1]=K+I[J+1];continue}H.push(K)}for(let K,J=0;J<H.length;J++)K=H[J],void 0!==H[J+1]&&(A.test(K)||B.test(K)||C.test(K))?H[J+1]=K+(H[J+1]||""):K&&0<K.length&&(G.push(K),H[J]="");return 0===G.length?[F]:G}},{"./abbreviations":10}],12:[function(v,w){"use strict";const z=["toTitleCase","toUpperCase","toLowerCase","tagger"];w.exports=(B)=>{z.forEach((C)=>{B.prototype[C]=function(){for(let D=0;D<this.list.length;D++)this.list[D][C].apply(this.list[D],arguments);return this}}),B.prototype.tag=function(){if(0===this.list.length)return this;for(let C=0;C<this.list.length;C++)this.list[C].tag.apply(this.list[C],arguments);return this}}},{}],13:[function(v,w){"use strict";const z=v("../paths").Terms;w.exports=(B)=>{const C={terms:function(){let D=[];this.list.forEach((F)=>{F.terms.forEach((G)=>{D.push(new z([G],F.lexicon,this))})});let E=new B(D,this.lexicon,this.parent);return E}};return Object.keys(C).forEach((D)=>{B.prototype[D]=C[D]}),B}},{"../paths":18}],14:[function(v,w){"use strict";const z=v("./topk"),A=v("./offset"),B=v("./indexes"),C={text:(E)=>{return E.list.reduce((F,G)=>{return F+=G.out("text"),F},"")},normal:(E)=>{return E.list.map((F)=>{let G=F.out("normal"),H=F.last();if(H){let I=H.endPunctuation();("."===I||"!"===I||"?"===I)&&(G+=I)}return G}).join(" ")},root:(E)=>{return E.list.map((F)=>{return F.out("root")}).join(" ")},offsets:(E)=>{return A(E)},index:(E)=>{return B(E)},grid:(E)=>{return E.list.reduce((F,G)=>{return F+=G.out("grid"),F},"")},color:(E)=>{return E.list.reduce((F,G)=>{return F+=G.out("color"),F},"")},array:(E)=>{return E.list.map((F)=>{return F.out("normal")})},csv:(E)=>{return E.list.map((F)=>{return F.out("csv")}).join("\n")},newlines:(E)=>{return E.list.map((F)=>{return F.out("newlines")}).join("\n")},json:(E)=>{return E.list.reduce((F,G)=>{let H=G.terms.map((I)=>{return{text:I.text,normal:I.normal,tags:I.tag}});return F.push(H),F},[])},html:(E)=>{let F=E.list.reduce((G,H)=>{let I=H.terms.reduce((J,K)=>{return J+="\n    "+K.out("html"),J},"");return G+="\n  <span class=\"nl-Satz\">"+I+"\n  </span>"},"");return"<span> "+F+"\n</span>"},terms:(E)=>{let F=[];return E.list.forEach((G)=>{G.terms.forEach((H)=>{F.push({text:H.text,normal:H.normal,tags:Object.keys(H.tags)})})}),F},debug:(E)=>{return console.log("===="),E.list.forEach((F)=>{console.log("   --"),F.debug()}),E},topk:(E)=>{return z(E)}};C.plaintext=C.text,C.normalized=C.normal,C.colors=C.color,C.tags=C.terms,C.offset=C.offsets,C.idexes=C.index,C.frequency=C.topk,C.freq=C.topk,C.arr=C.array;w.exports=(E)=>{return E.prototype.out=function(F){return C[F]?C[F](this):C.text(this)},E.prototype.debug=function(){return C.debug(this)},E}},{"./indexes":15,"./offset":16,"./topk":17}],15:[function(v,w){"use strict";w.exports=(A)=>{let B=[],C={};A.terms().list.forEach((F)=>{C[F.terms[0].uid]=!0});let D=0,E=A.all();return E.list.forEach((F,G)=>{F.terms.forEach((H,I)=>{void 0!==C[H.uid]&&B.push({text:H.text,normal:H.normal,term:D,sentence:G,sentenceTerm:I}),D+=1})}),B}},{}],16:[function(v,w){"use strict";const z=(C,D)=>{let E=0;for(let F=0;F<C.list.length;F++)for(let H,G=0;G<C.list[F].terms.length;G++){if(H=C.list[F].terms[G],H.uid===D.uid)return E;E+=H.whitespace.before.length+H._text.length+H.whitespace.after.length}return null},A=function(C){let D=C.terms;if(2>=D.length)return C.out("normal");let E=D[0].normal;for(let G,F=1;F<D.length-1;F++)G=D[F],E+=G.whitespace.before+G.text+G.whitespace.after;return E+=" "+D[C.terms.length-1].normal,E};w.exports=(C)=>{let D=C.all();return C.list.map((E)=>{let F=[];for(let L=0;L<E.terms.length;L++)F.push(E.terms[L].normal);let G=A(E),H=E.out("text"),I=z(D,E.terms[0]),J=E.terms[0].whitespace.before,K=I+J.length;return{text:H,normal:E.out("normal"),offset:I,length:H.length,wordStart:K,wordEnd:K+G.length}})}},{}],17:[function(v,w){"use strict";w.exports=function(A,B){let C={};A.list.forEach((E)=>{let F=E.out("root");C[F]=C[F]||0,C[F]+=1});let D=[];return Object.keys(C).forEach((E)=>{D.push({normal:E,count:C[E]})}),D.forEach((E)=>{E.percent=parseFloat((100*(E.count/A.list.length)).toFixed(2))}),D=D.sort((E,F)=>{return E.count>F.count?-1:1}),B&&(D=D.splice(0,B)),D}},{}],18:[function(v,w){w.exports={fns:v("../fns"),Terms:v("../terms")}},{"../fns":2,"../terms":37}],19:[function(v,w){"use strict";const z=v("./paths").fns,A=v("./whitespace"),B=v("./makeUID"),C=v("./methods/normalize").normalize,D=function(E){this._text=z.ensureString(E),this.tags={};let F=A(this._text);this.whitespace=F.whitespace,this._text=F.text,this.parent=null,this.silent_term="",this.lumped=!1,this.normal=C(this._text),this.dirty=!1,this.uid=B(this.normal),Object.defineProperty(this,"text",{get:function(){return this._text},set:function(G){G=G||"",this._text=G.trim(),this.dirty=!0,this._text!==G&&(this.whitespace=A(G)),this.normalize()}}),Object.defineProperty(this,"isA",{get:function(){return"Term"}})};D.prototype.normalize=function(){return C(this.text)},v("./methods/tag")(D),v("./methods/out")(D),v("./methods/case")(D),v("./methods/punctuation")(D),w.exports=D},{"./makeUID":20,"./methods/case":21,"./methods/normalize":22,"./methods/out":26,"./methods/punctuation":28,"./methods/tag":30,"./paths":33,"./whitespace":34}],20:[function(v,w){"use strict";w.exports=(A)=>{let B="";for(let C=0;5>C;C++)B+=parseInt(9*Math.random(),10);return A+"-"+B}},{}],21:[function(v,w){"use strict";w.exports=(A)=>{const B={toUpperCase:function(){return this.text=this.text.toUpperCase(),this.tag("#UpperCase","toUpperCase"),this},toLowerCase:function(){return this.text=this.text.toLowerCase(),this.unTag("#TitleCase"),this.unTag("#UpperCase"),this},toTitleCase:function(){return this.text=this.text.replace(/^[a-z]/,(C)=>C.toUpperCase()),this.tag("#TitleCase","toTitleCase"),this},needsTitleCase:function(){const C=["Person","Place","Organization","Acronym","UpperCase","Currency","RomanNumeral","Month","WeekDay","Holiday","Demonym"];for(let E=0;E<C.length;E++)if(this.tags[C[E]])return!0;const D=["i","god","allah"];for(let E=0;E<D.length;E++)if(this.normal===D[E])return!0;return!1}};return Object.keys(B).forEach((C)=>{A.prototype[C]=B[C]}),A}},{}],22:[function(v,w,y){"use strict";const z=v("./unicode"),A=v("./isAcronym");y.normalize=function(B){B=B||"",B=B.toLowerCase(),B=B.trim();let C=B;return B=z(B),B=B.replace(/^[#@]/,""),B=B.replace(/[\u2018\u2019\u201A\u201B\u2032\u2035]+/g,"'"),B=B.replace(/[\u201C\u201D\u201E\u201F\u2033\u2036"]+/g,""),B=B.replace(/\u2026/g,"..."),B=B.replace(/\u2013/g,"-"),!1===/^[:;]/.test(B)&&(B=B.replace(/\.{3,}$/g,""),B=B.replace(/['",\.!:;\?\)]$/g,""),B=B.replace(/^['"\(]/g,"")),""===B&&(B=C),B},y.addNormal=function(B){let C=B._text||"";C=y.normalize(C),A(B._text)&&(C=C.replace(/\./g,"")),C=C.replace(/([0-9]),([0-9])/g,"$1$2"),B.normal=C}},{"./isAcronym":23,"./unicode":24}],23:[function(v,w){"use strict";const z=/([A-Z]\.)+[A-Z]?$/,A=/^[A-Z]\.$/,B=/[A-Z]{3}$/;w.exports=function(D){return!(!0!==z.test(D))||!(!0!==A.test(D))||!(!0!==B.test(D))}},{}],24:[function(v,w){w.exports=(A)=>{return A=A.replace(/ä/u,"ae"),A=A.replace(/ö/u,"oe"),A=A.replace(/ü/u,"ue"),A=A.replace(/ß/u,"ss"),A}},{}],25:[function(v,w){"use strict";const z=v("../../paths").fns,A={Person:"#6393b9",Pronoun:"#81acce",Noun:"steelblue",Verb:"palevioletred",Adverb:"#f39c73",Adjective:"#b3d3c6",Determiner:"#d3c0b3",Preposition:"#9794a8",Conjunction:"#c8c9cf",Value:"palegoldenrod",Expression:"#b3d3c6"};w.exports=(C)=>{let D="silver",E=Object.keys(C.tags);for(let G=0;G<E.length;G++)if(A[E[G]]){D=A[E[G]];break}let F=z.leftPad(C.text,12);F+=" "+E,console.log("%c "+F,"color: "+D)}},{"../../paths":33}],26:[function(v,w){"use strict";const z=v("./renderHtml"),A=v("../../paths").fns,B=v("./client"),C=function(F){let G=Object.keys(F.tags).map((J)=>{return A.printTag(J)}).join(", "),H=F.text;H="'"+A.yellow(H||"-")+"'";let I="";F.silent_term&&(I="["+F.silent_term+"]"),H=A.leftPad(H,25),H+=A.leftPad(I,5),console.log("   "+H+"        - "+G)},D={text:function(F){return F.whitespace.before+F._text+F.whitespace.after},normal:function(F){return F.normal},root:function(F){return F.root||F.normal},html:function(F){return z(F)},tags:function(F){return{text:F.text,normal:F.normal,tags:Object.keys(F.tags)}},debug:function(F){"undefined"==typeof window?C(F):B(F)}};w.exports=(F)=>{return F.prototype.out=function(G){return D[G]||(G="text"),D[G](this)},F}},{"../../paths":33,"./client":25,"./renderHtml":27}],27:[function(v,w){"use strict";const z=(C)=>{const D={"<":"&lt;",">":"&gt;","&":"&amp;","\"":"&quot;","'":"&#39;"," ":"&nbsp;"};return C.replace(/[<>&"' ]/g,function(E){return D[E]})},A=(C)=>{const E=/<(?:!--(?:(?:-*[^->])*--+|-?)|script\b(?:[^"'>]|"[^"]*"|'[^']*')*>[\s\S]*?<\/script\s*|style\b(?:[^"'>]|"[^"]*"|'[^']*')*>[\s\S]*?<\/style\s*|\/?[a-z](?:[^"'>]|"[^"]*"|'[^']*')*)>/gi;let F;do F=C,C=C.replace(E,"");while(C!==F);return C.replace(/</g,"&lt;")};w.exports=function(C){let D=Object.keys(C.tags).filter((G)=>"Term"!==G);D=D.map((G)=>"nl-"+G),D=D.join(" ");let E=A(C.text);E=z(E);let F="<span class=\""+D+"\">"+E+"</span>";return z(C.whitespace.before)+F+z(C.whitespace.after)}},{}],28:[function(v,w){"use strict";const z=/([a-z])([,:;\/.(\.\.\.)\!\?]+)$/i;w.exports=(B)=>{const C={endPunctuation:function(){let D=this.text.match(z);if(D){if(void 0!=={",":"comma",":":"colon",";":"semicolon",".":"period","...":"elipses","!":"exclamation","?":"question"}[D[2]])return D[2]}return null},setPunctuation:function(D){return this.killPunctuation(),this.text+=D,this},hasComma:function(){return"comma"===this.endPunctuation()},killPunctuation:function(){return this.text=this._text.replace(z,"$1"),this}};return Object.keys(C).forEach((D)=>{B.prototype[D]=C[D]}),B}},{}],29:[function(v,w){"use strict";const z=v("../../paths"),A={},B=function(C,D){if(A[D]===void 0)return!0;let E=A[D].enemy||[];for(let F=0;F<E.length;F++)if(!0===C.tags[E[F]])return!1;return!(void 0!==A[D].is)||B(C,A[D].is)};w.exports=B},{"../../paths":33}],30:[function(v,w){"use strict";const z=v("./setTag"),A=v("./unTag"),B=v("./canBe"),C={".":!0};w.exports=(E)=>{const F={tag:function(G,H){!0!==C[G]&&z(this,G,H)},unTag:function(G,H){!0!==C[G]&&A(this,G,H)},canBe:function(G){if(G=G||"","string"==typeof G){if(!0===C[G])return!0;G=G.replace(/^#/,"")}return B(this,G)}};return Object.keys(F).forEach((G)=>{E.prototype[G]=F[G]}),E}},{"./canBe":29,"./setTag":31,"./unTag":32}],31:[function(v,w){"use strict";const z=v("../../paths"),A=z.log,B=z.fns,C=v("./unTag"),D={},E=(G,H,I)=>{if((H=H.replace(/^#/,""),!0!==G.tags[H])&&(G.tags[H]=!0,A.tag(G,H,I),D[H])){let J=D[H].enemy;for(let K=0;K<J.length;K++)!0===G.tags[J[K]]&&C(G,J[K],I);D[H].is&&D[H].is.forEach((K)=>{!0!==G.tags[K]&&E(G,K," --> "+H)})}};w.exports=function(G,H,I){return G&&H?B.isArray(H)?void H.forEach((J)=>E(G,J,I)):void(E(G,H,I),D[H]&&D[H].also!==void 0&&E(G,D[H].also,I)):void 0}},{"../../paths":33,"./unTag":32}],32:[function(v,w){"use strict";const z=v("../../paths"),A=z.log,B={},C=(E,F,G)=>{if(E.tags[F]&&(A.unTag(E,F,G),delete E.tags[F],B[F])){let H=B[F].is;for(let I=0;I<H.length;I++)C(E,H[I]," - -   - ")}};w.exports=(E,F,G)=>{if(E&&F){if("*"===F)return void(E.tags={});C(E,F,G)}}},{"../../paths":33}],33:[function(v,w){w.exports={fns:v("../fns"),log:v("../log")}},{"../fns":2,"../log":5}],34:[function(v,w){"use strict";const z=/^(\s|-+|\.\.+)+/,A=/^( *)-(\$|€|¥|£)?([0-9])/,B=/(\s+|-+|\.\.+)$/;w.exports=(D)=>{let E={before:"",after:""},F=D.match(A);return null===F?(F=D.match(z),null!==F&&(E.before=D.match(z)[0],D=D.replace(z,""))):(E.before=F[1],D=D.replace(/^ */,"")),F=D.match(B),null!==F&&(D=D.replace(B,""),E.after=F[0]),{whitespace:E,text:D}}},{}],35:[function(v,w){"use strict";const z=v("../term"),A=/^([a-z]+)(-)([a-z0-9].*)/i,B=/\S/,C={"-":!0,"\u2013":!0,"--":!0,"...":!0};w.exports=function(E){let F=[],G=[];E=E||"","number"==typeof E&&(E=""+E);const H=E.split(/(\S+)/);for(let J=0;J<H.length;J++){const K=H[J];if(!0===A.test(K)){const L=K.split("-");for(let M=0;M<L.length;M++)M===L.length-1?G.push(L[M]):G.push(L[M]+"-")}else G.push(K)}let I="";for(let J=0;J<G.length;J++)!0===B.test(G[J])&&void 0===C[G[J]]?(F.push(I+G[J]),I=""):I+=G[J];return I&&0<F.length&&(F[F.length-1]+=I),F.map((J)=>new z(J))}},{"../term":19}],36:[function(v,w){"use strict";w.exports={parent:{get:function(){return this.refText||this},set:function(z){return this.refText=z,this}},parentTerms:{get:function(){return this.refTerms||this},set:function(z){return this.refTerms=z,this}},dirty:{get:function(){for(let z=0;z<this.terms.length;z++)if(!0===this.terms[z].dirty)return!0;return!1},set:function(z){this.terms.forEach((A)=>{A.dirty=z})}},refTerms:{get:function(){return this._refTerms||this},set:function(z){return this._refTerms=z,this}},found:{get:function(){return 0<this.terms.length}},length:{get:function(){return this.terms.length}},isA:{get:function(){return"Terms"}},whitespace:{get:function(){return{before:(z)=>{return this.firstTerm().whitespace.before=z,this},after:(z)=>{return this.lastTerm().whitespace.after=z,this}}}}}},{}],37:[function(v,w){"use strict";const z=v("./build"),A=v("./getters"),B=function(C,D,E,F){this.terms=C,this.lexicon=D,this.refText=E,this._refTerms=F,this.count=void 0,this.get=(H)=>{return this.terms[H]};let G=Object.keys(A);for(let H=0;H<G.length;H++)Object.defineProperty(this,G[H],A[G[H]])};B.prototype.tagger=function(){return this},v("./methods/misc")(B),v("./methods/out")(B),v("./methods/loops")(B),B.fromString=function(C,D){let E=z(C),F=new B(E,D,null);return F.terms.forEach((G)=>{G.parentTerms=F}),F},w.exports=B},{"./build":35,"./getters":36,"./methods/loops":38,"./methods/misc":39,"./methods/out":40}],38:[function(v,w){"use strict";w.exports=(A)=>{return[["tag"],["unTag"],["canBe"],["toUpperCase","UpperCase"],["toLowerCase"],["toTitleCase","TitleCase"]].forEach((C)=>{let D=C[0],E=C[1];A.prototype[D]=function(){let G=arguments;return this.terms.forEach((H)=>{H[D].apply(H,G)}),E&&this.tag(E,D),this}}),A}},{}],39:[function(v,w){"use strict";w.exports=(A)=>{const B={firstTerm:function(){return this.terms[0]},lastTerm:function(){return this.terms[this.terms.length-1]},all:function(){return this.parent},data:function(){return{text:this.out("text"),normal:this.out("normal")}},term:function(C){return this.terms[C]},first:function(){let C=this.terms[0];return new A([C],this.lexicon,this.refText,this.refTerms)},last:function(){let C=this.terms[this.terms.length-1];return new A([C],this.lexicon,this.refText,this.refTerms)},slice:function(C,D){let E=this.terms.slice(C,D);return new A(E,this.lexicon,this.refText,this.refTerms)},endPunctuation:function(){return this.last().terms[0].endPunctuation()},index:function(){let C=this.parentTerms,D=this.terms[0];if(!C||!D)return null;for(let E=0;E<C.terms.length;E++)if(D===C.terms[E])return E;return null},termIndex:function(){let C=this.terms[0],D=this.refText||this;if(!D||!C)return null;let E=0;for(let G,F=0;F<D.list.length;F++){G=D.list[F];for(let H=0;H<G.terms.length;H++){if(G.terms[H]===C)return E;E+=1}}return E},chars:function(){return this.terms.reduce((C,D)=>{return C+=D.whitespace.before.length,C+=D.text.length,C+=D.whitespace.after.length,C},0)},wordCount:function(){return this.terms.length},toCamelCase:function(){return this.toTitleCase(),this.terms.forEach((C,D)=>{0!==D&&(C.whitespace.before=""),C.whitespace.after=""}),this.tag("#CamelCase","toCamelCase"),this}};return Object.keys(B).forEach((C)=>{A.prototype[C]=B[C]}),A}},{}],40:[function(v,w){"use strict";const z=v("../paths").fns,A={text:function(C){return C.terms.reduce((D,E)=>{return D+=E.out("text"),D},"")},normal:function(C){let D=C.terms.filter((E)=>{return E.text});return D=D.map((E)=>{return E.normal}),D.join(" ")},grid:function(C){var D="  ";return D+=C.terms.reduce((E,F)=>{return E+=z.leftPad(F.text,11),E},""),D+"\n\n"},color:function(C){return C.terms.reduce((D,E)=>{return D+=z.printTerm(E),D},"")},csv:function(C){return C.terms.map((D)=>D.normal.replace(/,/g,"")).join(",")},newlines:function(C){return C.terms.reduce((D,E)=>{return D+=E.out("text").replace(/\n/g," "),D},"").replace(/^\s/,"")},root:function(C){return C.terms.filter((D)=>D.text).map((D)=>D.root).join(" ").toLowerCase()},html:function(C){return C.terms.map((D)=>D.render.html()).join(" ")},debug:function(C){C.terms.forEach((D)=>{D.out("debug")})}};A.plaintext=A.text,A.normalize=A.normal,A.normalized=A.normal,A.colors=A.color,A.tags=A.terms;w.exports=(C)=>{return C.prototype.out=function(D){return A[D]?A[D](this):A.text(this)},C.prototype.debug=function(){return A.debug(this)},C}},{"../paths":41}],41:[function(v,w){w.exports={fns:v("../fns"),Term:v("../term")}},{"../fns":2,"../term":19}]},{},[3])(3)});

